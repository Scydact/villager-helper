(this["webpackJsonpvillager-helper"]=this["webpackJsonpvillager-helper"]||[]).push([[0],{158:function(e,t,a){},159:function(e,t,a){},334:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"VILLAGER",(function(){return x})),a.d(n,"Villager",(function(){return N})),a.d(n,"Recipe",(function(){return O})),a.d(n,"Item",(function(){return k}));var r=a(0),i=a.n(r),l=a(153),c=a.n(l),o=(a(158),a(31)),s=a(105),u=a(142),m=a(13),p=a(14),d=a(106),f=a(109),h=a(108);a.p;a.p,a(159);var v=a(143),g=a(107);function b(){return"_"+Math.random().toString(36).substr(2,9)}var E={MAX_VALUE:{BYTE:Math.pow(2,7)-1,SHORT:Math.pow(2,15)-1,INT:Math.pow(2,31)-1,LONG:Math.pow(2,63)-1},MIN_VALUE:{BYTE:-Math.pow(2,7),SHORT:-Math.pow(2,15),INT:-Math.pow(2,31),LONG:-Math.pow(2,63)}};function C(e){return"string"!==typeof e?"":e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}var y=g.supportedVersions.pc,w=g(y[y.length-1]);function R(e){var t=e.split(":").splice(-1);return w.findItemOrBlockByName(t)}window.mi=v,window.md=g,window.mdlast=w;var x={professions:["armorer","butcher","cartographer","cleric","farmer","fisherman","fletcher","leatherworker","librarian","nitwit","none","mason","shepherd","toolsmith","weaponsmith"],biomes:["desert","jungle","plains","savanna","snow","swamp","taiga"],getVillagerImagePath:function(e,t){var a="snow"===e?"Snowy":C(e),n="none"===t?"Villager_Base":C(t);return"./assets/villager_pics/".concat(a,"_").concat(n,".png")}},N=function(){function e(){Object(m.a)(this,e),this.entity={customName:"",level:5,xp:1e3,isXpRelatedToLevel:!0,profession:"none",type:"plains"},this.offers=[]}return Object(p.a)(e,[{key:"addRecipe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offers.length,a=Object(o.a)(this.offers);return a.splice(t,0,e),this.offers=a,e}},{key:"removeRecipe",value:function(e){return this.offers=this.offers.filter((function(t){return t!==e})),this.offers}},{key:"moveRecipe",value:function(e,t){if(-1===this.offers.indexOf(e))return!1;t=(t+this.offers.length)%this.offers.length;var a=this.offers.filter((function(t){return t!==e}));return a.splice(t,0,e),this.offers=a,!0}},{key:"findRecipe",value:function(e){for(var t in this.offers)if(t.uuid===e)return t;return null}},{key:"updateRecipe",value:function(e,t){var a=this.offers.indexOf(e);if(-1===a)return!1;var n=Object(o.a)(this.offers);return n[a]=t,this.offers=n,!0}}]),e}(),O=function(){function e(){Object(m.a)(this,e),this.uuid=b(),this.extraData={rewardExp:!1,maxUses:E.MAX_VALUE.INT,uses:0,xp:0,priceMultiplier:0,specialPrice:0,demand:0},this.trades={buy:new k(1,"emerald"),buyB:new k(0,"air"),sell:new k(1,"paper")}}return Object(p.a)(e,[{key:"clone",value:function(){var t=new e;return t.extraData=Object.assign({},this.extraData),t.trades={buy:this.trades.buy.clone(),buyB:this.trades.buyB.clone(),sell:this.trades.sell.clone()},t}}]),e}(),k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stone",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(m.a)(this,e),this.uuid=b(),this.count=t,this.id=a,this.tag=n}return Object(p.a)(e,[{key:"clone",value:function(){return new e(this.count,this.id,this.tag)}}]),e}(),j=a(27),I=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleChangeVillager=function(e){var t=e.target.name,a=e.target.value;"number"===e.target.type&&(a=parseInt(a)),n.setState({entity:Object(u.a)(Object(u.a)({},n.state.entity),{},Object(s.a)({},t,a))}),n.villager.entity=n.state.entity},n.offersFunctionCollection={addRecipe:function(){var e=n.state.selectedRecipe?n.state.offers.indexOf(n.state.selectedRecipe)+1:void 0,t=n.villager.addRecipe(new O,e);n.refreshRecipe(t)},cloneRecipe:function(){var e=n.state.selectedRecipe;if(null!=e){var t=n.state.offers.indexOf(n.state.selectedRecipe)+1,a=n.villager.addRecipe(e.clone(),t);n.refreshRecipe(a)}},setSelectedRecipe:function(e){n.setState({selectedRecipe:e})},moveRecipe:function(e,t){var a=n.villager.offers.indexOf(e);n.villager.moveRecipe(e,a+t),n.setState({offers:Object(o.a)(n.villager.offers)})},moveRecipeUp:function(){n.offersFunctionCollection.moveRecipe(n.state.selectedRecipe,-1)},moveRecipeDown:function(){n.offersFunctionCollection.moveRecipe(n.state.selectedRecipe,1)},removeRecipe:function(){var e=n.villager.offers.indexOf(n.state.selectedRecipe);n.villager.removeRecipe(n.state.selectedRecipe);var t=n.villager.offers[e-1]||n.villager.offers[e]||null;n.refreshRecipe(t)}},n.recipeFunctionCollection={extraDataChangeHandler:function(e){var t=e.target.name,a=e.target.value;console.log(e.target.checked),"number"===e.target.type&&(a="priceMultiplier"===e.target.name?parseFloat(a):parseInt(a)),"checkbox"===e.target.type&&(a=e.target.checked);var r=n.state.selectedRecipe,i=r.clone();i.extraData[t]=a,n.villager.updateRecipe(r,i),n.refreshRecipe(i)},itemChangeHandler:function(e,t){var a=e.target.name,r=e.target.value;"number"===e.target.type&&(r=parseInt(r));var i=n.state.selectedRecipe,l=i.clone();l.trades[t][a]=r,n.villager.updateRecipe(i,l),n.refreshRecipe(l)},buyChangeHandler:function(e){return n.recipeFunctionCollection.itemChangeHandler(e,"buy")},buyBChangeHandler:function(e){return n.recipeFunctionCollection.itemChangeHandler(e,"buyB")},sellChangeHandler:function(e){return n.recipeFunctionCollection.itemChangeHandler(e,"sell")}},n.villager=new N,n.state={entity:n.villager.entity,offers:n.villager.offers,selectedRecipe:null},window.app=Object(d.a)(n),n}return Object(p.a)(a,[{key:"refreshRecipe",value:function(e){this.setState({selectedRecipe:e,offers:Object(o.a)(this.villager.offers)})}},{key:"render",value:function(){return i.a.createElement("div",{className:"app"},i.a.createElement(B,null),i.a.createElement("div",{className:"main"},i.a.createElement(M,{data:this.state.entity,onChange:this.handleChangeVillager}),i.a.createElement(H,{data:this.state.offers,villager:this.villager,functionCollection:this.offersFunctionCollection,selectedItem:this.state.selectedRecipe}),i.a.createElement(S,{data:this.state.selectedRecipe,functionCollection:this.recipeFunctionCollection})))}}]),a}(i.a.Component);function B(){return i.a.createElement("div",{className:"menu-bar"},"<Something something>")}var M=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.data,t=this.props.onChange;return i.a.createElement("div",{className:"villager card"},i.a.createElement("img",{className:"villager-image",src:x.getVillagerImagePath(e.type,e.profession),alt:"Villager: ".concat(e.type,"_").concat(e.profession)}),i.a.createElement("div",{className:"villager-form form"},i.a.createElement("label",null,"Name: "),i.a.createElement("input",{type:"text",value:e.customName,name:"customName",onChange:t}),i.a.createElement("label",null,"Profession: "),i.a.createElement("select",{type:"text",value:e.profession,name:"profession",onChange:t},x.professions.map((function(e,t){return i.a.createElement("option",{key:t,value:e},C(e))}))),i.a.createElement("label",null,"Biome: "),i.a.createElement("select",{type:"option",value:e.type,name:"type",onChange:t},x.biomes.map((function(e,t){return i.a.createElement("option",{key:t,value:e},C(e))}))),i.a.createElement("label",null,"Level: "),i.a.createElement("input",{type:"number",value:e.level,name:"level",onChange:t}),i.a.createElement("label",null,"Xp: "),i.a.createElement("input",{type:"number",value:e.xp,name:"xp",onChange:t})))}}]),a}(i.a.Component);function D(e){return i.a.createElement("li",{onClick:function(){return e.onClick(e.data)},className:"item-thumb ".concat(e.className)},i.a.createElement(T,{itemId:e.data.trades.buy.id,itemCount:e.data.trades.buy.count}),e.data.trades.buyB.count?i.a.createElement("span",{className:"item-thumb-sign mc-font"},"+"):null,e.data.trades.buyB.count?i.a.createElement(T,{itemId:e.data.trades.buyB.id,itemCount:e.data.trades.buyB.count}):null,i.a.createElement("span",{className:"item-thumb-sign mc-font"},"="),i.a.createElement(T,{itemId:e.data.trades.sell.id,itemCount:e.data.trades.sell.count}))}var H=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).createList=function(){return e.props.data.map((function(t){var a=t.uuid===e.props.selectedItem.uuid?"active":"";return i.a.createElement(D,{key:t.uuid,data:t,className:a,onClick:e.props.functionCollection.setSelectedRecipe})}))},e}return Object(p.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"offers card"},i.a.createElement("h1",null,"Offers"),i.a.createElement("div",{className:"offers-list-wrapper"},i.a.createElement("div",{className:"offers-btn-wrapper"},i.a.createElement("button",{onClick:this.props.functionCollection.addRecipe},"+"),i.a.createElement("button",{onClick:this.props.functionCollection.cloneRecipe},"C"),i.a.createElement("button",{onClick:this.props.functionCollection.removeRecipe},"-"),i.a.createElement("button",{onClick:this.props.functionCollection.moveRecipeUp},"\u25b2"),i.a.createElement("button",{onClick:this.props.functionCollection.moveRecipeDown},"\u25bc")),i.a.createElement("ul",{className:"offers-list"},this.createList())))}}]),a}(i.a.Component);function S(e){return null==e.data?i.a.createElement("div",{className:"recipe card"},i.a.createElement("h1",null,"Trade"),i.a.createElement("p",null,"No trade selected.")):i.a.createElement("div",{className:"recipe card"},i.a.createElement("h1",null,"Trade"),i.a.createElement("div",{className:"item-wrapper card"},i.a.createElement("h2",null,"Buy"),i.a.createElement(V,{data:e.data.trades.buy,onChange:e.functionCollection.buyChangeHandler})),i.a.createElement("div",{className:"item-wrapper card"},i.a.createElement("h2",null,"Buy B"),i.a.createElement(V,{data:e.data.trades.buyB,onChange:e.functionCollection.buyBChangeHandler})),i.a.createElement("div",{className:"item-wrapper card"},i.a.createElement("h2",null,"Sell"),i.a.createElement(V,{data:e.data.trades.sell,onChange:e.functionCollection.sellChangeHandler})),i.a.createElement("div",{className:"form card"},i.a.createElement("h2",{className:"form-2header"},"Extra data"),i.a.createElement("label",{"data-tip":!0,"data-for":"tip-maxuses"},"Max Uses: "),i.a.createElement("input",{type:"number",value:e.data.extraData.maxUses,name:"maxUses",onChange:e.onChange}),i.a.createElement(j.a,{id:"tip-maxuses"},"The maximum number of times this trade can be used before it is disabled.",i.a.createElement("br",null),"Increases by a random amount from 2 to 12 when offers are refreshed.",i.a.createElement("br",null),"Set to ",E.MAX_VALUE.INT.toString()," (or any other large number) to disable."),i.a.createElement("label",{"data-tip":!0,"data-for":"tip-rewardexp"},"Reward player XP: "),i.a.createElement("input",{type:"checkbox",checked:e.data.extraData.rewardExp,name:"rewardExp",onChange:e.functionCollection.extraDataChangeHandler}),i.a.createElement(j.a,{id:"tip-rewardexp"},"Whether this trade provides XP orb drops."),i.a.createElement("label",{"data-tip":!0,"data-for":"tip-xp"},"Villager XP: "),i.a.createElement("input",{type:"number",value:e.data.extraData.xp,name:"xp",onChange:e.functionCollection.extraDataChangeHandler}),i.a.createElement(j.a,{id:"tip-xp"},"How much experience the villager gets from this trade."),i.a.createElement("label",{"data-tip":!0,"data-for":"tip-pricemultiplier"},"Price Multiplier: "),i.a.createElement("input",{type:"number",value:e.data.extraData.priceMultiplier,name:"priceMultiplier",onChange:e.functionCollection.extraDataChangeHandler}),i.a.createElement(j.a,{id:"tip-pricemultiplier"},"The multiplier on the  demand price adjuster; the final adjusted price is added to the first 'cost' item's price."),i.a.createElement("label",{"data-tip":!0,"data-for":"tip-specialprice"},"Special price: "),i.a.createElement("input",{type:"number",value:e.data.extraData.specialPrice,name:"specialPrice",onChange:e.functionCollection.extraDataChangeHandler}),i.a.createElement(j.a,{id:"tip-specialprice"},"A modifier added to the original price of the first 'cost' item."),i.a.createElement("label",{"data-tip":!0,"data-for":"tip-demand"},"Price Multiplier: "),i.a.createElement("input",{type:"number",value:e.data.extraData.demand,name:"demand",onChange:e.functionCollection.extraDataChangeHandler}),i.a.createElement(j.a,{id:"tip-demand"},"The price adjuster of the first 'cost' item based on demand. ",i.a.createElement("br",null),"Updated when a villager resupply.")))}function T(e){var t=function(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){var t=R(e);e=t?t.displayName:e}var a=v.get(e);return a?a.icon:null}(e.itemId),a=t&&0!=e.itemCount?i.a.createElement("img",{src:"data:image/png;base64, ".concat(t)}):null,n=null;return e.itemCount&&(e.itemCount>1?n=i.a.createElement("div",{className:"item-icon-count mc-font"},e.itemCount):e.itemCount<0&&(n=i.a.createElement("div",{className:"item-icon-count item-icon-count-negative mc-font"},e.itemCount))),i.a.createElement("div",{className:"item-icon"},a,n)}function V(e){return i.a.createElement("div",{className:"item"},i.a.createElement(T,{itemId:e.data.id,itemCount:e.data.count}),i.a.createElement("div",null,i.a.createElement("label",null,"Id: "),i.a.createElement("input",{type:"text",value:e.data.id,name:"id",placeholder:"Item ID (no spaces, lowercase)",onChange:e.onChange}),i.a.createElement("label",null,"Count: "),i.a.createElement("input",{type:"number",value:e.data.count,name:"count",placeholder:"Count",onChange:e.onChange}),i.a.createElement("label",null,"Tag: "),i.a.createElement("input",{type:"text",value:e.data.tag,name:"tag",placeholder:"{itemtag: false}",onChange:e.onChange})))}window.vo=n;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[334,1,2]]]);
//# sourceMappingURL=main.27836934.chunk.js.map